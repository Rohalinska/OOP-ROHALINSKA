# Порушення принципу підстановки Лісков (LSP)
## Що таке LSP

Принцип підстановки Лісков означає, що об’єкти дочірніх класів повинні без проблем використовуватись замість об’єктів базового класу.
Якщо замінити базовий клас на підклас, програма не повинна ламатися або працювати інакше.

**Простими словами:**
якщо код чекає об’єкт типу Bird, то будь-який його нащадок має працювати нормально.
Нижче наведено приклад порушення цього принципу, пояснення проблеми та правильний варіант реалізації на C#.

## Приклад: Bird - Penguin
### Неправильний варіант

```csharp
class Bird
{
    public virtual void Fly()
    {
        Console.WriteLine("Bird is flying");
    }
}

class Penguin : Bird
{
    public override void Fly()
    {
        throw new NotSupportedException("Penguins cannot fly");
    }
}
```

**Чому це погано**

Код, який працює з класом Bird, думає, що будь-який птах може літати.
Але коли замість звичайного птаха використовується Penguin, програма отримує помилку.
Тобто підклас не можна спокійно підставити замість базового класу.

**До чого це призводить:**
з’являються помилки під час роботи програми,
поведінка програми стає непередбачуваною,
код стає складнішим у підтримці.

### Правильний варіант

```csharp
interface IFlyingBird
{
    void Fly();
}

class Bird { }

class Sparrow : Bird, IFlyingBird
{
    public void Fly()
    {
        Console.WriteLine("Sparrow is flying");
    }
}

class Penguin : Bird
{
}
```
**Чому так краще**

Тепер не всі птахи мають метод Fly().
Літати можуть тільки ті, хто реально це вміє.
Тому програма не намагається викликати метод там, де його бути не повинно, і не падає.

## Bисновок
Якщо підклас не може поводитися так само, як базовий клас, то:
з’являються помилки під час виконання,
код стає крихким,
програму важко підтримувати.

**Щоб цього уникнути, потрібно**
Не робити підкласи, які ламають логіку базового класу;
розділяти можливості за допомогою інтерфейсів;
чітко продумувати, що клас може робити, а що – ні.